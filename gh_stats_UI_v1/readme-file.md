# GitHub Metrics Dashboard

## Overview

The GitHub Metrics Dashboard is a visualization tool for GitHub repository metrics that provides insights into repository health, contributor performance, and pull request activity. This dashboard works with Excel reports generated by the GitHub Metrics Reporter script.

## Features

- **Overall Summary**: High-level metrics across all repositories
- **Contributor Analysis**: Individual and team contribution metrics
- **PR Activity Analysis**: Pull request health and processing metrics
- **Support for Multiple Report Locations**: Automatic detection of report files
- **Interactive Data Tables**: Sortable tables with detailed metrics

## Installation

### Prerequisites

- Python 3.7 or higher
- Required Python packages (install using `pip install -r requirements.txt`):
  - streamlit
  - pandas
  - openpyxl
  - pytz
  - python-dateutil
  - matplotlib

### Setup

1. Clone this repository or download the source files
2. Install the required dependencies:
   ```
   pip install -r requirements.txt
   ```

## Usage

1. Run the dashboard:
   ```
   streamlit run github_metrics_dashboard.py
   ```
2. The dashboard will automatically open in your default web browser
3. Select the report directory from the sidebar or specify a custom location
4. Navigate between the three dashboard tabs to explore different metrics

## Metrics and Calculations

The dashboard uses several key metrics to evaluate repository and contributor performance. Below are the most important calculations used throughout the dashboard. All of these metrics are derived directly from data in the Excel reports and calculated within the dashboard script.

### PR Health Score

The PR Health Score is a measure of pull request quality and efficiency. A PR is considered "healthy" if it meets both of these criteria:

1. It has been open for less than or equal to 7 days (configurable)
2. It has 2 or fewer labels (configurable)

The Health Score calculation is:

```
Health Percentage = (Healthy PRs / Total PRs) * 100
```

The Health Status is determined by the Health Percentage:
- ğŸŸ¢ Good: >= 80%
- ğŸŸ¡ Moderate: >= 50% and < 80%
- ğŸ”´ Poor: < 50%

#### Example:
If a repository has 20 total PRs with 16 healthy PRs:
- Health Percentage = (16 / 20) * 100 = 80%
- Health Status: ğŸŸ¢ Good

### PRs with Comments Percentage

This metric measures how many PRs receive meaningful review comments, which is an important indicator of code review quality:

```
PRs with Comments Percentage = (PRs With Comments / (PRs With Comments + PRs Without Comments)) * 100
```

#### Example:
If 30 PRs received comments during review and 10 PRs were approved without comments:
- PRs with Comments Percentage = (30 / (30 + 10)) * 100 = 75%

### Check Success Rate

The Check Success Rate measures the reliability of code in passing automated checks and tests:

```
Check Success Rate = (Passed Checks / (Passed Checks + Failed Checks)) * 100
```

#### Example:
If a repository has 150 passed checks and 30 failed checks:
- Check Success Rate = (150 / (150 + 30)) * 100 = 83.3%

### Average Calculations

The dashboard employs several averaging calculations to provide meaningful metrics across different dimensions:

#### Average PR Duration (Days)

This calculates the mean time PRs remain open:

```
Average PR Duration = Sum of PR Duration for All PRs / Total Number of PRs
```

#### Example:
If 5 PRs were open for 2, 4, 7, 3, and 9 days respectively:
- Average PR Duration = (2 + 4 + 7 + 3 + 9) / 5 = 5 days

#### Average Commits per Contributor

This measures the typical contribution volume per contributor:

```
Average Commits per Contributor = Total Commits Across All Repositories / Total Number of Contributors
```

#### Example:
If there are 800 total commits and 20 contributors:
- Average Commits per Contributor = 800 / 20 = 40 commits

#### Average PRs per Contributor

Similar to commits, this measures the typical PR creation rate:

```
Average PRs per Contributor = Total PRs Across All Repositories / Total Number of Contributors
```

#### Example:
If there are 120 total PRs and 20 contributors:
- Average PRs per Contributor = 120 / 20 = 6 PRs

### Version Type Metrics

The dashboard analyzes version labels to categorize pull requests into different release types:

- **RC Versions**: Labels ending with '-rc' (Release Candidate)
- **NPD Versions**: Labels ending with '-npd' (Non-Production Deployment)
- **Stable Versions**: All other version labels

The distribution of these version types helps track the release cycle maturity across repositories.

### PR Age Distribution

PRs are categorized by age to analyze workflow efficiency:

- 1 day or less
- 1-3 days
- 3-7 days
- 7-14 days
- 14-30 days
- Over 30 days

This distribution helps identify bottlenecks in the review process.

### Contributor Performance Metrics

For each contributor, the dashboard calculates:

1. **Individual Health Score**: The percentage of a contributor's PRs that are healthy.
2. **Check Success Rate**: The success rate of all checks in a contributor's PRs.
3. **Multi-Repo Contribution**: The number of repositories a contributor is active in.

### Multi-Repo Contributors Percentage

This metric shows what percentage of all contributors work across multiple repositories:

```
Multi-Repo Contributors Percentage = (Multi-Repo Contributors / Total Contributors) * 100
```

Where a Multi-Repo Contributor is defined as someone who has contributed to two or more repositories.

#### Example:
If there are 25 total contributors and 10 of them have contributed to multiple repositories:
- Multi-Repo Contributors Percentage = (10 / 25) * 100 = 40%

## FAQ

### How are PR health thresholds determined?

The default thresholds (7 days for duration, 2 for label count) are configurable in the GitHub Metrics Reporter script. They represent typical industry standards for efficient PR processing but can be adjusted based on your team's workflow.

### What does a low health score indicate?

A low health score could indicate several issues:
- PRs staying open too long without resolution
- Excessive use of labels, suggesting complex or poorly scoped PRs
- Process bottlenecks in the review workflow

### How can we improve our metrics?

1. **Improve PR Health Score**:
   - Encourage smaller, well-scoped PRs
   - Implement a PR review SLA
   - Use standard label sets consistently

2. **Improve Check Success Rate**:
   - Address failed checks promptly
   - Improve test coverage and reliability
   - Conduct pre-commit testing

3. **Contributor Performance**:
   - Provide feedback based on individual metrics
   - Recognize high-performing contributors
   - Support contributors with lower metrics through mentoring

## Troubleshooting

If the dashboard cannot find your reports:
1. Check that the reports are in one of the expected locations
2. Use the "Specify custom directory" option to manually enter the path
3. Verify that your Excel files contain the expected sheet names

If metrics appear incorrect:
1. Verify the original data in the Excel reports
2. Check for any unusual formatting or data types in the Excel files
3. Look for specific error messages in the dashboard for guidance

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- GitHub API for providing the underlying data
- Streamlit for the interactive dashboard framework
- Pandas for data processing capabilities
